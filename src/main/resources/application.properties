# Application Configuration
quarkus.application.name=temporal-security-analyst
quarkus.application.version=1.0.0-SNAPSHOT

# Database Configuration
# In dev mode, if no URL is provided, Quarkus Dev Services will auto-start PostgreSQL
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${DB_USERNAME:temporal}
quarkus.datasource.password=${DB_PASSWORD:temporal}
quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://localhost:5432/temporal_ai}

# Hibernate Configuration
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=false

# Liquibase Configuration
# Only run migrations if database is available
quarkus.liquibase.migrate-at-start=${LIQUIBASE_MIGRATE_AT_START:true}
quarkus.liquibase.change-log=db/changelog/db.changelog-master.xml
quarkus.liquibase.clean-at-start=false
# Skip migrations if database connection fails (useful for development)
quarkus.liquibase.validate-on-migrate=false

# Temporal Configuration
temporal.server.address=${TEMPORAL_SERVER_ADDRESS:localhost:7233}
temporal.namespace=${TEMPORAL_NAMESPACE:default}

# LLM Configuration
llm.base-url=${LLM_BASE_URL:http://localhost:11434}
llm.model=${LLM_MODEL:llama2}
llm.timeout=${LLM_TIMEOUT:30000}

# REST API Configuration
quarkus.http.cors=true
quarkus.http.cors.origins=${CORS_ORIGINS:http://localhost:3000,http://localhost:5173}
quarkus.http.cors.headers=${CORS_HEADERS:accept,authorization,content-type,x-requested-with}

# Logging Configuration
quarkus.log.level=INFO
quarkus.log.category."com.temporal.ai".level=DEBUG

# Dev Services - Auto-start PostgreSQL in dev mode if no datasource URL is provided
quarkus.devservices.enabled=true
